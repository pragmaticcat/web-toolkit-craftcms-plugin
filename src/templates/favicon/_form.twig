{% import '_includes/forms' as forms %}

<form method="post" accept-charset="UTF-8">
  {{ csrfInput() }}
  {{ actionInput('pragmatic-web-toolkit/favicon/save-general') }}
  {{ redirectInput(redirectUrl, { site: selectedSite.handle }) }}
  <input type="hidden" name="site" value="{{ selectedSiteId }}">

  {{ forms.lightswitchField({
    label: 'Enable favicon output'|t('pragmatic-web-toolkit'),
    instructions: 'If disabled, no favicon tags are rendered or auto-injected for this site.'|t('pragmatic-web-toolkit'),
    id: 'enabled',
    name: 'settings[enabled]',
    on: settings.enabled ?? true,
    value: 1,
  }) }}

  {{ forms.lightswitchField({
    label: 'Auto-generate manifest.webmanifest'|t('pragmatic-web-toolkit'),
    instructions: 'If enabled and no manual manifest is selected, Toolkit will serve /manifest.webmanifest automatically for this site.'|t('pragmatic-web-toolkit'),
    id: 'autoGenerateManifest',
    name: 'settings[autoGenerateManifest]',
    on: settings.autoGenerateManifest ?? true,
    value: 1,
  }) }}

  <div class="readable">
    <p><strong>{{ 'Field examples'|t('pragmatic-web-toolkit') }}</strong></p>
    <ul>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#icon" target="_blank" rel="noopener">Favicon ICO example</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#icon" target="_blank" rel="noopener">Favicon SVG example</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#apple-touch-icon" target="_blank" rel="noopener">Apple touch icon example</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#mask-icon" target="_blank" rel="noopener">Mask icon example</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Manifest" target="_blank" rel="noopener">Manifest example</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta/name/theme-color" target="_blank" rel="noopener">Theme color example</a></li>
      <li><a href="https://learn.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/dev-guides/dn455106(v=vs.85)" target="_blank" rel="noopener">MS tile color example</a></li>
    </ul>
  </div>

  {{ forms.elementSelectField({
    label: 'Favicon ICO'|t('pragmatic-web-toolkit'),
    instructions: '.ico file used as the classic browser favicon.'|t('pragmatic-web-toolkit'),
    id: 'faviconIcoAssetId',
    name: 'settings[faviconIcoAssetId][]',
    elementType: 'craft\\elements\\Asset',
    elements: faviconIcoAsset ? [faviconIcoAsset] : [],
    limit: 1,
    sources: '*',
  }) }}

  {{ forms.elementSelectField({
    label: 'Favicon SVG'|t('pragmatic-web-toolkit'),
    instructions: 'SVG icon for modern browsers.'|t('pragmatic-web-toolkit'),
    id: 'faviconSvgAssetId',
    name: 'settings[faviconSvgAssetId][]',
    elementType: 'craft\\elements\\Asset',
    elements: faviconSvgAsset ? [faviconSvgAsset] : [],
    limit: 1,
    sources: '*',
  }) }}

  {{ forms.elementSelectField({
    label: 'Apple touch icon'|t('pragmatic-web-toolkit'),
    instructions: 'Used for iOS home screen bookmarks.'|t('pragmatic-web-toolkit'),
    id: 'appleTouchIconAssetId',
    name: 'settings[appleTouchIconAssetId][]',
    elementType: 'craft\\elements\\Asset',
    elements: appleTouchIconAsset ? [appleTouchIconAsset] : [],
    limit: 1,
    sources: '*',
  }) }}

  {{ forms.elementSelectField({
    label: 'Mask icon'|t('pragmatic-web-toolkit'),
    instructions: 'Safari pinned tab icon.'|t('pragmatic-web-toolkit'),
    id: 'maskIconAssetId',
    name: 'settings[maskIconAssetId][]',
    elementType: 'craft\\elements\\Asset',
    elements: maskIconAsset ? [maskIconAsset] : [],
    limit: 1,
    sources: '*',
  }) }}

  {{ forms.colorField({
    label: 'Mask icon color'|t('pragmatic-web-toolkit'),
    id: 'maskIconColor',
    name: 'settings[maskIconColor]',
    value: settings.maskIconColor ?? '#000000',
  }) }}

  {{ forms.elementSelectField({
    label: 'Web manifest'|t('pragmatic-web-toolkit'),
    instructions: 'manifest.webmanifest or manifest.json file.'|t('pragmatic-web-toolkit'),
    id: 'manifestAssetId',
    name: 'settings[manifestAssetId][]',
    elementType: 'craft\\elements\\Asset',
    elements: manifestAsset ? [manifestAsset] : [],
    limit: 1,
    sources: '*',
  }) }}

  {{ forms.colorField({
    label: 'Theme color'|t('pragmatic-web-toolkit'),
    id: 'themeColor',
    name: 'settings[themeColor]',
    value: settings.themeColor ?? '#ffffff',
  }) }}

  {{ forms.colorField({
    label: 'MS tile color'|t('pragmatic-web-toolkit'),
    id: 'msTileColor',
    name: 'settings[msTileColor]',
    value: settings.msTileColor ?? '#ffffff',
  }) }}

  <div class="buttons">
    <button type="submit" class="btn submit">{{ 'Save'|t('pragmatic-web-toolkit') }}</button>
  </div>
</form>
