{% extends 'pragmatic-web-toolkit/dashboard/_layout' %}
{% import '_includes/forms' as forms %}

{% set title = 'Configuration' %}
{% set selectedTab = 'configuration' %}

{% block content %}
  <h1>Sidebar domains</h1>
  <p class="light">
    Enable or disable domains and choose their order in the Web Toolkit sidebar.
    Lower order numbers appear first.
  </p>

  <form method="post" accept-charset="UTF-8">
    {{ csrfInput() }}
    {{ actionInput('pragmatic-web-toolkit/dashboard/save-configuration') }}
    {{ redirectInput('pragmatic-toolkit/dashboard/configuration') }}

    <table class="data fullwidth">
      <thead>
        <tr>
          <th>Domain</th>
          <th>Active</th>
          <th>Sidebar order</th>
        </tr>
      </thead>
      <tbody>
        {% for domain in domains %}
          <tr>
            <td>
              <strong>{{ domain.label }}</strong><br>
              <code>{{ domain.key }}</code>
            </td>
            <td>
              <input type="hidden" name="domains[{{ domain.key }}][enabled]" value="0">
              {{ forms.checkbox({
                name: "domains[#{domain.key}][enabled]",
                value: 1,
                checked: domain.enabled
              }) }}
            </td>
            <td>
              {{ forms.text({
                type: 'number',
                name: "domains[#{domain.key}][order]",
                value: domain.order,
                min: 1,
                class: 'text nicetext',
                size: 4
              }) }}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    <div class="buttons" style="margin-top: 16px;">
      <button type="submit" class="btn submit">Save configuration</button>
    </div>
  </form>
{% endblock %}
